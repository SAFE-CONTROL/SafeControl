#LyX 2.2 created this file. For more info see http://www.lyx.org/
\lyxformat 508
\begin_document
\begin_header
\save_transient_properties true
\origin unavailable
\textclass article
\begin_preamble
\usepackage{listings}
\usepackage{color} %red, green, blue, yellow, cyan, magenta, black, white
\definecolor{mygreen}{RGB}{28,172,0} % color values Red, Green, Blue
\definecolor{mylilas}{RGB}{170,55,241}

\lstset{language=Matlab,%
    %basicstyle=\color{red},
    breaklines=true,%
    morekeywords={matlab2tikz},
    keywordstyle=\color{blue},%
    morekeywords=[2]{1}, keywordstyle=[2]{\color{black}},
    identifierstyle=\color{black},%
    stringstyle=\color{mylilas},
    commentstyle=\color{mygreen},%
    showstringspaces=false,%without this there will be a symbol in the places where there is a space
    numbers=left,%
    numberstyle={\tiny \color{black}},% size of the numbers
    numbersep=9pt, % this defines how far the numbers are from the text
    emph=[1]{for,end,break},emphstyle=[1]\color{red}, %some words to emphasise
    %emph=[2]{word1,word2}, emphstyle=[2]{style},    
}
\end_preamble
\use_default_options true
\maintain_unincluded_children false
\language english
\language_package default
\inputencoding auto
\fontencoding global
\font_roman "default" "default"
\font_sans "default" "default"
\font_typewriter "default" "default"
\font_math "auto" "auto"
\font_default_family default
\use_non_tex_fonts false
\font_sc false
\font_osf false
\font_sf_scale 100 100
\font_tt_scale 100 100
\graphics default
\default_output_format default
\output_sync 0
\bibtex_command default
\index_command default
\paperfontsize default
\spacing single
\use_hyperref false
\papersize default
\use_geometry true
\use_package amsmath 1
\use_package amssymb 1
\use_package cancel 1
\use_package esint 1
\use_package mathdots 1
\use_package mathtools 1
\use_package mhchem 1
\use_package stackrel 1
\use_package stmaryrd 1
\use_package undertilde 1
\cite_engine basic
\cite_engine_type default
\biblio_style plain
\use_bibtopic false
\use_indices false
\paperorientation portrait
\suppress_date false
\justification true
\use_refstyle 1
\index Index
\shortcut idx
\color #008000
\end_index
\leftmargin 1cm
\topmargin 1cm
\rightmargin 1cm
\bottommargin 2cm
\secnumdepth 3
\tocdepth 3
\paragraph_separation indent
\paragraph_indentation default
\quotes_language english
\papercolumns 1
\papersides 1
\paperpagestyle default
\tracking_changes false
\output_changes false
\html_math_output 0
\html_css_as_file 0
\html_be_strict false
\end_header

\begin_body

\begin_layout Title
Algorithme de calcul des 
\begin_inset Quotes eld
\end_inset

taux de confiance de référence
\begin_inset Quotes erd
\end_inset


\end_layout

\begin_layout Standard
NOMENCLATURE
\end_layout

\begin_layout Standard

\end_layout

\begin_layout Subsection*
Vocabulaire et notations utilisé
\end_layout

\begin_layout Itemize
composant : capteur, calculateur ou actionneur,
\end_layout

\begin_layout Itemize
individu : composant,
\end_layout

\begin_layout Itemize
population : ensemble de composants,
\end_layout

\begin_layout Itemize
arbitre : composant chargé de la direction d'un groupe d'actionneurs,
\end_layout

\begin_layout Itemize
composant défaillant / individu défaillant : composant / individu qui ne
 se comporte pas comme prévu,
\end_layout

\begin_layout Itemize
opinion de X envers Y : confiance qu'exprime X envers Y., où (X,Y) sont des
 individus ou des ensembles d'individus.
\end_layout

\begin_layout Subsection*
Introduction
\end_layout

\begin_layout Itemize

\bar under
Population valide initiale :
\bar default
 vecteur ligne de booléen 
\begin_inset Formula $V\in\left\{ 0,1\right\} ^{1\times n}$
\end_inset

 qui indique l'état d'un individu au sein de la population : 
\begin_inset Formula $\begin{cases}
0 & individu\,défaillant\,(invalide)\\
1 & individu\,sain\,(valide)
\end{cases}$
\end_inset

,
\end_layout

\begin_layout Itemize

\bar under
Confiance des composants :
\bar default
 matrice carrée 
\begin_inset Formula $M\in\mathbb{R}^{n\times n}$
\end_inset

 où le coefficient d'index en ligne 
\begin_inset Formula $i$
\end_inset

 et d'index en colonne 
\begin_inset Formula $j$
\end_inset

 représente le taux de confiance donné par le composant 
\begin_inset Formula $i$
\end_inset

 vis-à-vis du composant 
\begin_inset Formula $j$
\end_inset

.
\end_layout

\begin_layout Section
Principe de fonctionnement
\end_layout

\begin_layout Standard
A l'instant initial (décollage d'un vol immédiatement après une maintenance),
 tout les coefficients du vecteur 
\begin_inset Formula $V$
\end_inset

 sont initialisés à 1 : toute la population d'individus est considérée saine.
\end_layout

\begin_layout Standard
L'arbitre cherche à trouver un avis représentatif de la population saine,
 en 
\begin_inset Quotes eld
\end_inset

pondérer
\begin_inset Quotes erd
\end_inset

 l'avis de chaque composant 
\begin_inset Formula $i$
\end_inset

 (vecteur ligne d'index 
\begin_inset Formula $i$
\end_inset

 de la matrice 
\begin_inset Formula $M$
\end_inset

) par l'avis qu'a toute la population envers ce composant : en effet; si
 tout les composants font fortement confiance à un composant, il paraît
 logique que le 
\begin_inset Quotes eld
\end_inset

poids
\begin_inset Quotes erd
\end_inset

 de l'avis de composant doit être fortement pris en compte.
 De même, si les composants font faiblement confiance à un composant, l'avis
 de ce composant doit faiblement être pris en compte....
 Nous obtenons ainsi un avis représentatif de la population, que nous normalison
s à 1 en valeur maximale, et que nous appellons 
\begin_inset Quotes eld
\end_inset

confiances de référence
\begin_inset Quotes erd
\end_inset

.
\end_layout

\begin_layout Standard
Nous devons empêcher qu'un composant défaillant puisse influencer de façon
 négative les 
\begin_inset Quotes eld
\end_inset

confiances de référence
\begin_inset Quotes erd
\end_inset

 : en effet il se pourrait que plusieurs composants deviennent tour à tour
 défaillants et, s'ils deviennent majoritaires (et s'accordent entre eux
 par hasard !), pourraient influencer négativement ces 
\begin_inset Quotes eld
\end_inset

confiances de référence
\begin_inset Quotes erd
\end_inset

, puis finalement invalider les calculateurs valides : nous devons donc
 éliminer la prise en compte de l'avis d'un composant défaillant dès lors
 que son comportement anormal est détecté par la population valide.
\end_layout

\begin_layout Standard
.
\end_layout

\begin_layout Standard
Pour cela, l'arbitre réalise le processus suivant :
\end_layout

\begin_layout Itemize
\begin_inset Formula $M\rightarrow M_{V}$
\end_inset

 : transformation de la matrice 
\begin_inset Formula $M$
\end_inset

 par mise à 0 des lignes d'index 
\begin_inset Formula $i$
\end_inset

 correspondantes à un composant défaillant (i.e.
 avec 
\begin_inset Formula $i$
\end_inset

 tel que 
\begin_inset Formula $V(i)=0$
\end_inset

), pour tenir compte uniquement de l'avis des composants sains : 
\begin_inset Formula $M_{V}=diag(V)\times M$
\end_inset


\end_layout

\begin_layout Itemize
pondération de l'avis de chaque composant 
\begin_inset Formula $j$
\end_inset

, vecteur ligne d'index 
\begin_inset Formula $j$
\end_inset

 de la matrice 
\begin_inset Formula $M_{V}$
\end_inset

, par l'avis qu'ont tout les composants vis-à-vis de ce composant (i.e.
 la somme des coefficients du vecteur colonne d'index 
\begin_inset Formula $j$
\end_inset

), puis addition de chacun de ces vecteurs résultant en un vecteur 
\begin_inset Formula $\Omega$
\end_inset

.
 Si on note 
\begin_inset Formula $U_{1\times n}$
\end_inset

 un vecteur ligne dans 
\begin_inset Formula $\mathbb{R}^{1\times n}$
\end_inset

 et dont tous les coefficients sont égaux à 1, alors on a : 
\begin_inset Formula $\Omega=U_{1\times n}M_{v}^{2}$
\end_inset


\end_layout

\begin_layout Itemize
puis normalisation à 1 du coefficient maximal, résultant en un vecteur 
\begin_inset Formula $\bar{\Omega}$
\end_inset

: 
\begin_inset Formula $\bar{\Omega}=\frac{1}{max(\Omega)}.\Omega$
\end_inset

,
\end_layout

\begin_layout Itemize
mise à jour du vecteur de population valide : 
\begin_inset Formula $V\rightarrow\bar{\Omega}\geq0.5$
\end_inset


\end_layout

\begin_layout Standard
\begin_inset Newpage newpage
\end_inset


\end_layout

\begin_layout Section
Algorithme
\bar under

\begin_inset Newline newline
\end_inset


\end_layout

\begin_layout Enumerate

\series bold
Initialisation
\series default
 : 
\begin_inset Formula $V\coloneqq U_{1\times n}$
\end_inset

,
\end_layout

\begin_layout Enumerate

\series bold
Construction 
\series default
d'une matrice 
\begin_inset Formula $M$
\end_inset

 de 
\begin_inset Quotes eld
\end_inset


\series bold
taux de confiances
\series default

\begin_inset Quotes erd
\end_inset

 des 
\series bold
calculateurs
\series default
,
\end_layout

\begin_layout Enumerate

\series bold
Calcul
\series default
 de la matrice 
\begin_inset Formula $M_{V}$
\end_inset

 de 
\begin_inset Quotes eld
\end_inset


\series bold
taux de confiances
\series default

\begin_inset Quotes erd
\end_inset

 des 
\begin_inset Quotes eld
\end_inset


\series bold
calculateurs sains
\series default

\begin_inset Quotes erd
\end_inset

 : 
\begin_inset Formula $M_{V}\coloneqq diag(V)\times M$
\end_inset


\end_layout

\begin_layout Enumerate

\series bold
Calcul
\series default
 du vecteur 
\begin_inset Formula $\bar{\Omega}$
\end_inset

 
\begin_inset Quotes eld
\end_inset


\series bold
taux de confiance de référence
\series default

\begin_inset Quotes erd
\end_inset

 : 
\begin_inset Formula $\bar{\Omega}\coloneqq\frac{1}{max(U_{1\times n}\times M_{v}^{2})}\times U_{1\times n}\times M_{v}^{2}$
\end_inset


\end_layout

\begin_layout Enumerate

\series bold
Mise à jour
\series default
 du vecteur 
\begin_inset Formula $V$
\end_inset

 de population 
\begin_inset Quotes eld
\end_inset

saine
\begin_inset Quotes erd
\end_inset

 : 
\begin_inset Formula $V\coloneqq\bar{\Omega}\geq0.5$
\end_inset


\end_layout

\begin_layout Enumerate

\series bold
Retour
\series default
 à l'étape 2.
\end_layout

\begin_layout Section
Code Matlab
\end_layout

\begin_layout Standard
Le code Matlab pour implémenter la fonction de décision du superviseur :
\begin_inset Newline newline
\end_inset


\end_layout

\begin_layout Standard
\begin_inset listings
inline false
status open

\begin_layout Plain Layout

function [Mref,V] = supervisor_decision_2(M,V)
\end_layout

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout

% Entrée :
\end_layout

\begin_layout Plain Layout

%	.
 M : matrice de "taux de confiances"
\end_layout

\begin_layout Plain Layout

%	.
 V : vecteur de "population saine"
\end_layout

\begin_layout Plain Layout

%
\end_layout

\begin_layout Plain Layout

% Sortie :
\end_layout

\begin_layout Plain Layout

%	.
 Mref : vecteur de "taux de confiances de référence"
\end_layout

\begin_layout Plain Layout

%	.
 V : nouveau vecteur de "population saine"
\end_layout

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout

n=size(M,1);
\end_layout

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout

% Test de spécification : la matrice M doit être carrée et le vecteur V
 doit être un vecteur ligne de même taille
\end_layout

\begin_layout Plain Layout

assert(size(M,2)==n); assert(size(V,1)==1); assert(size(V,2)==n);
\end_layout

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout

Mv=diag(V)*M;
\end_layout

\begin_layout Plain Layout

U=ones(1,n);
\end_layout

\begin_layout Plain Layout

K=U*Mv*Mv;
\end_layout

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout

Mref=K/max(K)
\end_layout

\begin_layout Plain Layout

V=Mref>=0.5;
\end_layout

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout

end
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Newpage newpage
\end_inset


\end_layout

\begin_layout Section
Exemple concret
\end_layout

\begin_layout Standard
Considérons l'exemple suivant :
\begin_inset Formula 
\[
M=\begin{bmatrix}1 & 3 & 2\\
2 & 1 & 0\\
3 & 3 & 1
\end{bmatrix},V=\begin{bmatrix}1 & 1 & 1\end{bmatrix}
\]

\end_inset


\end_layout

\begin_layout Standard
Ici, le composant 1 accorde un taux de confiance à l'ensemble des composants
 de 
\begin_inset Formula $\begin{bmatrix}1 & 3 & 2\end{bmatrix}$
\end_inset

, le composant 2 un taux de confiance de 
\begin_inset Formula $\begin{bmatrix}2 & 1 & 0\end{bmatrix}$
\end_inset

 et enfin le composant 3 un taux de confiance de 
\begin_inset Formula $\begin{bmatrix}3 & 3 & 1\end{bmatrix}$
\end_inset

.
 On peut remarquer que les composants 1 et 3 accordent beaucoup de confiance
 (valeur de 3) au composant 2.
 Le composant 2, quant à lui, ne fait pas confiance au composant 3 : on
 peut donc imaginer assez facilement qu'il ne faudrait pas faire confiance
 au composant 3.
 Appliquons l'algorithme et vérifions si notre intuition nous donne raison
 !
\begin_inset Newline newline
\end_inset


\end_layout

\begin_layout Enumerate

\series bold
Calcul
\series default
 de la matrice 
\begin_inset Formula $M_{V}$
\end_inset

 de 
\begin_inset Quotes eld
\end_inset


\series bold
taux de confiances
\series default

\begin_inset Quotes erd
\end_inset

 des 
\begin_inset Quotes eld
\end_inset


\series bold
calculateurs sains
\series default

\begin_inset Quotes erd
\end_inset

 : 
\begin_inset Formula $M_{V}\rightarrow\begin{bmatrix}1 & 0 & 0\\
0 & 1 & 0\\
0 & 0 & 1
\end{bmatrix}\times\begin{bmatrix}1 & 3 & 2\\
2 & 1 & 0\\
3 & 3 & 1
\end{bmatrix}=\begin{bmatrix}1 & 3 & 2\\
2 & 1 & 0\\
3 & 3 & 1
\end{bmatrix}=M$
\end_inset


\end_layout

\begin_layout Enumerate

\series bold
Calcul
\series default
 du vecteur 
\begin_inset Formula $\bar{\Omega}$
\end_inset

 
\begin_inset Quotes eld
\end_inset


\series bold
taux de confiance de référence
\series default

\begin_inset Quotes erd
\end_inset

 :
\begin_inset Formula 
\[
U_{1\times n}\times M_{v}^{2}=\begin{bmatrix}1 & 1 & 1\end{bmatrix}\begin{bmatrix}1 & 3 & 2\\
2 & 1 & 0\\
3 & 3 & 1
\end{bmatrix}\times\begin{bmatrix}1 & 3 & 2\\
2 & 1 & 0\\
3 & 3 & 1
\end{bmatrix}=\begin{bmatrix}1 & 1 & 1\end{bmatrix}\begin{bmatrix}13 & 12 & 4\\
4 & 7 & 4\\
12 & 15 & 7
\end{bmatrix}=\begin{bmatrix}29 & 34 & 15\end{bmatrix}
\]

\end_inset

 
\begin_inset Formula 
\[
\bar{\Omega}\rightarrow\frac{1}{max(\begin{bmatrix}29 & 34 & 15\end{bmatrix})}\times\begin{bmatrix}29 & 34 & 15\end{bmatrix}=\frac{1}{34}\times\begin{bmatrix}29 & 34 & 15\end{bmatrix}\approx\begin{bmatrix}0.85 & 1 & 0.44\end{bmatrix}
\]

\end_inset


\end_layout

\begin_layout Enumerate

\series bold
Mise à jour
\series default
 du vecteur 
\begin_inset Formula $V$
\end_inset

 de population 
\begin_inset Quotes eld
\end_inset

saine
\begin_inset Quotes erd
\end_inset

 : 
\begin_inset Formula $V\rightarrow\bar{\Omega}\geq0.5=\begin{bmatrix}0.85 & 1 & 0.44\end{bmatrix}\geq0.5=\begin{bmatrix}1 & 1 & 0\end{bmatrix}$
\end_inset


\end_layout

\begin_layout Standard
Effectivement, le composant 3 à bien été éliminé par les autres composants
 : son taux de confiance est inférieur à 0.5.
 En revanche, le composant 2 lui obtient le meilleur taux de confiance parmi
 les 3 composants, ce qui correspond bien à ce que nous avions anticipé.
 Le composant 1 semble lui aussi relativement fiable.
\begin_inset Newline newline
\end_inset


\end_layout

\begin_layout Standard
Si l'on reçoit un prochain jeu de données, imaginons pour simplifier la
 même matrice 
\begin_inset Formula $M$
\end_inset

, on aura cette fois :
\end_layout

\begin_layout Enumerate

\series bold
Calcul
\series default
 de la matrice 
\begin_inset Formula $M_{V}$
\end_inset

 de 
\begin_inset Quotes eld
\end_inset


\series bold
taux de confiances
\series default

\begin_inset Quotes erd
\end_inset

 des 
\begin_inset Quotes eld
\end_inset


\series bold
calculateurs sains
\series default

\begin_inset Quotes erd
\end_inset

 : 
\begin_inset Formula $M_{V}\rightarrow diag(V)\times M=\begin{bmatrix}1 & 0 & 0\\
0 & 1 & 0\\
0 & 0 & 0
\end{bmatrix}\times\begin{bmatrix}1 & 3 & 2\\
2 & 1 & 0\\
3 & 3 & 1
\end{bmatrix}=\begin{bmatrix}1 & 3 & 2\\
2 & 1 & 0\\
0 & 0 & 0
\end{bmatrix}$
\end_inset


\end_layout

\begin_layout Enumerate

\series bold
Calcul
\series default
 du vecteur 
\begin_inset Formula $\bar{\Omega}$
\end_inset

 
\begin_inset Quotes eld
\end_inset


\series bold
taux de confiance de référence
\series default

\begin_inset Quotes erd
\end_inset

 :
\begin_inset Formula 
\[
U_{1\times n}\times M_{v}^{2}=\begin{bmatrix}1 & 1 & 1\end{bmatrix}\begin{bmatrix}1 & 3 & 2\\
2 & 1 & 0\\
0 & 0 & 0
\end{bmatrix}\times\begin{bmatrix}1 & 3 & 2\\
2 & 1 & 0\\
0 & 0 & 0
\end{bmatrix}=\begin{bmatrix}1 & 1 & 1\end{bmatrix}\begin{bmatrix}7 & 6 & 2\\
4 & 7 & 4\\
0 & 0 & 0
\end{bmatrix}=\begin{bmatrix}11 & 13 & 6\end{bmatrix}
\]

\end_inset

 
\begin_inset Formula 
\[
\bar{\Omega}\rightarrow\frac{1}{max(\begin{bmatrix}11 & 13 & 6\end{bmatrix})}\times\begin{bmatrix}11 & 13 & 6\end{bmatrix}=\frac{1}{13}\times\begin{bmatrix}11 & 13 & 6\end{bmatrix}\approx\begin{bmatrix}0.85 & 1 & 0.46\end{bmatrix}
\]

\end_inset


\end_layout

\begin_layout Enumerate

\series bold
Mise à jour
\series default
 du vecteur 
\begin_inset Formula $V$
\end_inset

 de population 
\begin_inset Quotes eld
\end_inset

saine
\begin_inset Quotes erd
\end_inset

 : 
\begin_inset Formula $V\rightarrow\bar{\Omega}\geq0.5=\begin{bmatrix}0.85 & 1 & 0.46\end{bmatrix}\geq0.5=\begin{bmatrix}1 & 1 & 0\end{bmatrix}$
\end_inset


\end_layout

\begin_layout Standard
Le composant 3 est à toujours considéré comme défaillant par la nouvelle
 population 
\begin_inset Quotes eld
\end_inset

saine
\begin_inset Quotes erd
\end_inset

 ! L'exemple présenté ici est extrême avec des taux de confiance variés,
 pas vraiment cohérents et où l'arbitrage est réellement difficile à décider
 : pourtant le résultat semble cohérent avec notre intuition.
\end_layout

\end_body
\end_document
